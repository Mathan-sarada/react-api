(this["webpackJsonpvehicle-app"]=this["webpackJsonpvehicle-app"]||[]).push([[0],{128:function(e,t,a){e.exports=a(168)},166:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),i=a(59),u=a(16),l=a(7),s=a.n(l),d=a(9),p=a(4),m=a(40),f=a(21),b=a.n(f),v=a(228),h=a(227),g=a(222),E=a(112),y=a(234),j=a(260),O=a(254),_=a(230),S=a(224),w=a(169),C=a(225),x=a(226),k=a(103),A=a.n(k),T=a(104),L=a.n(T),V=a(229),N=a(63),P=a(106),K=a.n(P),U=a(219),F=a(19),B="http://45.32.120.50:9000/api/v1",D=b.a.get("apiKey")?b.a.get("apiKey").apiKey:"",M=b.a.get("secretKey")?b.a.get("secretKey").secretKey:"",G=b.a.get("adminKey")?b.a.get("adminKey").adminKey:"",z="/user/login",I="/user/logout",W="/service/category",H="/service/add-category",R="/service/edit-category",J="/service",$="/service/add-service",q="/service/edit-service",Q="/vehicle",X="/vehicle/add-vehicle",Y="/vehicle",Z="/vehicle/edit-vehicle",ee="/vendor",te="/vendor/add-vendor",ae="/vendor/edit-vendor",ne="/order-details",re="/order-details/vendor/message",ce="/service/location",oe="/service/location",ie="/service/location",ue="/notification",le="/notification",se=a(14),de=a.n(se),pe=function(e,t){return de()({method:"post",url:"".concat(B).concat(z,"/").concat(t),data:e,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},me=function(e){return de()({method:"post",url:"".concat(B).concat(I,"/").concat(G),data:e,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},fe=a(231),be=a(105),ve=a.n(be),he={Update_Notification:function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"patch",url:"".concat(B).concat(le,"/").concat(t,"?admin_id=").concat(G),headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Get_Notification:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(ue),headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ge=Object(U.a)((function(e){return{root:{display:"flex"},drawer:Object(m.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),title:{flexGrow:1},appBar:Object(m.a)({background:"#3f94b5f2"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(m.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},sectionDesktop:Object(m.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(m.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));var Ee=function(e){var t=e.children,a=ge(),n=Object(F.a)(),c=r.a.useState(!1),o=Object(p.a)(c,2),i=o[0],l=o[1],m=r.a.useState([]),f=Object(p.a)(m,2),k=f[0],T=f[1],P=r.a.useState(null),U=Object(p.a)(P,2),B=U[0],D=U[1],M=Boolean(B),G=r.a.useState(null),z=Object(p.a)(G,2),I=z[0],W=z[1],H=Boolean(I),R=Object(u.f)(),J=window.location.pathname,$=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.Get_Notification();case 2:if(200!==(t=e.sent).code){e.next=7;break}T(t.data.message),e.next=8;break;case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){l(!i)},Q=function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,he.Update_Notification(t);case 3:200===e.sent.code&&$();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.push("/"),b.a.remove("secretKey"),b.a.remove("apiKey"),b.a.remove("adminKey"),e.next=6,me();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){"/"===J&&"/login"===J||b.a.get("apiKey")||R.push("/login")}),[]),r.a.useEffect((function(){$()}),[]);var Y=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(g.a,null),r.a.createElement(S.a,null,["Category","Vehicle","Service","Vendor","Orders","Location"].map((function(e,t){return r.a.createElement(w.a,{button:!0,key:e,onClick:function(){return function(e){R.push("/".concat(e))}(e)}},r.a.createElement(C.a,null,r.a.createElement(A.a,null)),r.a.createElement(x.a,{primary:e}))}))));return r.a.createElement("div",{className:a.root},r.a.createElement(h.a,null),"/login"!==J&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{position:"fixed",className:a.appBar},r.a.createElement(V.a,null,r.a.createElement(_.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:q,className:a.menuButton},r.a.createElement(L.a,null)),r.a.createElement(N.a,{variant:"h6",noWrap:!0,className:a.title},"Vehicle App"),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(_.a,{"aria-label":"show 17 new notifications",color:"inherit",onClick:function(e){W(e.currentTarget)}},r.a.createElement(fe.a,{badgeContent:k.length,color:"secondary"},r.a.createElement(ve.a,null))),r.a.createElement(E.a,{id:"menu-appbar",anchorEl:I,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:H,onClose:function(){W(null)}},k&&k.length>0&&k.map((function(e){return r.a.createElement(y.a,{key:e._id,onClick:function(t){return Q(e._id)}},e.message)}))),r.a.createElement(_.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){D(e.currentTarget)},color:"inherit"},r.a.createElement(K.a,null)),r.a.createElement(E.a,{id:"menu-appbar",anchorEl:B,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:M,onClose:function(){D(null)}},r.a.createElement(y.a,{onClick:function(){return X()}},"Logout"))))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(O.a,{smUp:!0,implementation:"css"},r.a.createElement(j.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:i,onClose:q,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},Y)),r.a.createElement(O.a,{xsDown:!0,implementation:"css"},r.a.createElement(j.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},Y)))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement("div",null,t)))},ye=function(e){var t=e.children;e.noNavbar;return r.a.createElement("div",null,r.a.createElement(Ee,{children:t}))};ye.defaultProps={noNavbar:!1,noFooter:!1};var je=ye,Oe=a(240),_e=a(257),Se=function(e){var t=e.label,a=e.id,n=e.type,c=e.autoFocus,o=e.onChange,i=e.value,u=e.onBlur;return r.a.createElement(_e.a,{autoFocus:c,margin:"dense",id:a,value:i,onBlur:u,onChange:o,label:t,type:n,fullWidth:!0})},we=a(238),Ce=a(239),xe={primeBG:"#3f94b5",buttonBG:"#fff",buttonBorder:"1px solid #3f94b5"},ke=function(e){var t=e.label,a=e.onClick,n=e.loading;return r.a.createElement(we.a,{style:{backgroundColor:xe.primeBG,color:xe.buttonBG,border:xe.buttonBorder,marginBottom:"10px",height:"40px"},variant:"contained",color:"primary",onClick:a},n&&r.a.createElement(Ce.a,{size:20}),t)},Ae=a(242),Te=a(241),Le=Object(U.a)({root:{minWidth:275,maxWidth:"400px",margin:"auto",padding:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function Ve(e){var t=Le(),a=r.a.useState(""),n=Object(p.a)(a,2),c=n[0],o=n[1],i=r.a.useState(""),u=Object(p.a)(i,2),l=u[0],s=u[1],d=r.a.useState(""),m=Object(p.a)(d,2),f=m[0],b=m[1],v=r.a.useState(!1),h=Object(p.a)(v,2),g=h[0],E=h[1];return r.a.createElement(Oe.a,{className:t.root},r.a.createElement(Te.a,null,r.a.createElement(N.a,{gutterBottom:!0,variant:"h5",component:"h2"},"SignIn"),r.a.createElement(Se,{label:"Email",type:"email",value:c,onBlur:function(e){new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(e.target.value)?E(!1):E(!0)},onChange:function(e){o(e.target.value)}}),g&&r.a.createElement(N.a,{style:{color:"red",fontSize:"12px"}},"Enter a valid Email"),r.a.createElement(Se,{label:"Password",type:"password",value:l,onChange:function(e){s(e.target.value)}}),r.a.createElement(Se,{label:"Admin Id",type:"number",value:f,onChange:function(e){b(e.target.value)}})),r.a.createElement(Ae.a,{style:{float:"right"}},r.a.createElement(ke,{loading:e.btnLoading,style:{marginRight:"6px"},onClick:function(){return function(){var t={data:{email:c,password:l}};e.submit(t,f)}()},label:"Sign In"})))}var Ne=a(45),Pe=a(256),Ke=Object(U.a)({root:{color:"rgb(63, 148, 181)",fontSize:"15px",border:"1px solid rgb(63, 148, 181)",background:"#6e8ac80f"}});function Ue(e){var t=Ke(),a=r.a.useState({open:!1,vertical:"bottom",horizontal:"right"}),n=Object(p.a)(a,2),c=n[0],o=n[1],i=c.vertical,u=c.horizontal;return r.a.createElement(Pe.a,{className:t.root,anchorOrigin:{vertical:i,horizontal:u},open:!0,onClose:function(){o(Object(Ne.a)(Object(Ne.a)({},c),{},{open:!1}))},message:e.message,key:i+u})}var Fe=function(e){var t="";return"object"===typeof e?Object.keys(e).forEach((function(a){t=e[a]})):t=e,t},Be=function(){var e=r.a.useState(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(p.a)(c,2),i=o[0],l=o[1],m=Object(u.f)(),f=r.a.useState(!1),v=Object(p.a)(f,2),h=v[0],g=v[1],E=function(){var e=Object(d.a)(s.a.mark((function e(t,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,pe(t,a);case 3:200!==(r=e.sent).code?(l(Fe(r.data.error.message)),g(!1),n(!0),setTimeout((function(){n(!1)}),3e3)):(b.a.set("apiKey",{apiKey:r.data.error.apiKey}),b.a.set("secretKey",{secretKey:r.data.error.secretKey}),b.a.set("adminKey",{adminKey:r.data.error.adminKey}),g(!1),m.push("/vendor"));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,{btnLoading:h,submit:E}),a&&r.a.createElement(Ue,{message:i}))},De=a(30),Me=a(6),Ge=a(246),ze=a(248),Ie=a(243),We=a(245),He=a(247),Re=a(244),Je=a(84),$e=a(253),qe=(a(166),Object(Me.a)((function(e){return{head:{backgroundColor:"#3f94b5",color:e.palette.common.white},body:{fontSize:14}}}))(Ie.a)),Qe=Object(Me.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Re.a),Xe=Object(U.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),Ye=function(e){var t=Xe();return e.loading?r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{src:"http://i.imgur.com/KUJoe.gif",className:"rotate",width:"70",alt:"",height:"70"})):r.a.createElement(r.a.Fragment,null,e.buttonLabel&&r.a.createElement("div",{style:{display:"flex"}},"service"!==e.page&&r.a.createElement(ke,{label:e.buttonLabel,onClick:e.onClick}),r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},e.filterOption&&r.a.createElement($e.a,{id:"free-solo-demo",freeSolo:!0,style:{width:"170px",marginTop:"-15px"},onChange:e.onchangeOption,options:e.filterOption.map((function(e){return e})),renderInput:function(e){return r.a.createElement(_e.a,Object.assign({},e,{label:"Search...",margin:"normal",size:"small",variant:"outlined"}))}}))),r.a.createElement(We.a,{component:Je.a,style:{marginBottom:"20px"}},r.a.createElement(Ge.a,{style:{minWidth:700},"aria-label":"customized table"},r.a.createElement(He.a,null,r.a.createElement(Re.a,null,e.Header.map((function(e){return r.a.createElement(qe,{key:e},e)})))),r.a.createElement(ze.a,null,e.data&&e.data.length>0&&e.data.map((function(t){return r.a.createElement(Qe,{key:t._id},"Add Category"===e.buttonLabel&&r.a.createElement(n.Fragment,null,r.a.createElement(qe,{component:"th",scope:"row"},t.category_name),r.a.createElement(qe,null,t.status?"Active":"InActive")),"Add Vendor"===e.buttonLabel&&r.a.createElement(n.Fragment,null,r.a.createElement(qe,{component:"th",scope:"row"},t.vendor_name),r.a.createElement(qe,null,t.mobile),r.a.createElement(qe,null,t.email),r.a.createElement(qe,null,t.location)),"Add Service"===e.buttonLabel&&r.a.createElement(n.Fragment,null,r.a.createElement(qe,{component:"th",scope:"row"},t.service_name),r.a.createElement(qe,{component:"th",scope:"row"},t.category_id.category_name),"bike service"===t.service_type&&r.a.createElement(qe,null,t.vehicle_id.vehicle_cc),r.a.createElement(qe,null,t.description),r.a.createElement(qe,null,t.price)),"Add Vehicle"===e.buttonLabel&&r.a.createElement(n.Fragment,null,r.a.createElement(qe,null,t.vehicle_cc),r.a.createElement(qe,null,t.status?"Active":"InActive")),"Add Location"===e.buttonLabel&&r.a.createElement(n.Fragment,null,r.a.createElement(qe,null,t.location),r.a.createElement(qe,null,t.status?"Active":"InActive")),"orders"===e.page&&r.a.createElement(n.Fragment,null,r.a.createElement(qe,{component:"th",scope:"row"},t.mobile_number),r.a.createElement(qe,null,t.location),r.a.createElement(qe,{component:"th",scope:"row"},t.category_name),r.a.createElement(qe,null,t.description),r.a.createElement(qe,null,t.price)),"orders"===e.page&&(t.isVerified?r.a.createElement(qe,null,"Verified"):r.a.createElement(qe,{style:{textDecoration:"underLine",color:"#3f94b5",cursor:"pointer"},onClick:function(a){return e.Update(t.orderId)}},"Verify Mobile")),e.buttonLabel&&r.a.createElement(qe,{style:{textDecoration:"underLine",color:"#3f94b5",cursor:"pointer"},onClick:function(){return e.Update(t)}},"Edit"))}))))))},Ze=a(249),et=a(252),tt=a(251),at=a(255),nt=a(250);function rt(e){var t=r.a.useState(e.fields.category_name||""),a=Object(p.a)(t,2),n=a[0],c=a[1],o=r.a.useState("Active"),i=Object(p.a)(o,2),u=i[0],l=i[1];return r.a.createElement("div",null,r.a.createElement(Ze.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},"Add Category"),r.a.createElement(tt.a,null,r.a.createElement(Se,{autoFocus:!0,onChange:function(e){return function(e){c(e.target.value)}(e)},id:"name",value:n,label:"Category Name",type:"text"}),e.fields&&r.a.createElement(at.a,{autoFocus:!0,onChange:function(e){l(e.target.value)},value:u,style:{width:"100%",marginTop:"12px"},inputProps:{name:"max-width",id:"max-width"}},r.a.createElement(y.a,{value:"Active"},"Active"),r.a.createElement(y.a,{value:"InActive"},"InActive"))),r.a.createElement(et.a,{style:{padding:"18px"}},r.a.createElement(ke,{onClick:e.closeModal,label:"Cancel"}),r.a.createElement(ke,{onClick:function(){return function(){if(""!==n&&void 0!==n)if(e.fields){var t={data:{category_name:n,status:"Active"===u}};e.update(t,e.fields._id)}else{var a={data:{category_name:n}};e.submit(a)}else e.showToast("Please enter category name.")}()},loading:e.btnLoading,label:e.fields?"Edit Category":"Add Category"}))))}var ct={Add_Category:function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"post",url:"".concat(B).concat(H,"?admin_id=").concat(G),data:t,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Update_Category:function(){var e=Object(d.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"patch",url:"".concat(B).concat(R,"/").concat(a,"?admin_id=").concat(G),data:t,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Get_Category:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(W,"?admin_id=").concat(G),headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ot=["Category","Status","Actions"],it=function(){var e=r.a.useState(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(p.a)(c,2),i=o[0],u=o[1],l=r.a.useState(!1),m=Object(p.a)(l,2),f=m[0],b=m[1],v=r.a.useState([]),h=Object(p.a)(v,2),g=h[0],E=h[1],y=r.a.useState(!1),j=Object(p.a)(y,2),O=j[0],_=j[1],S=r.a.useState([]),w=Object(p.a)(S,2),C=w[0],x=w[1],k=r.a.useState([]),A=Object(p.a)(k,2),T=A[0],L=A[1],V=r.a.useState(""),N=Object(p.a)(V,2),P=N[0],K=N[1],U=r.a.useState(!1),F=Object(p.a)(U,2),B=F[0],D=F[1],M=r.a.useState(!1),G=Object(p.a)(M,2),z=G[0],I=G[1],W=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.Get_Category();case 2:if(200!==(t=e.sent).code){e.next=10;break}E(t.data.message),L(t.data.message),x(Object(De.a)(new Set(t.data.message.map((function(e){return e.category_name}))))),D(!1),e.next=12;break;case 10:return D(!1),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,ct.Add_Category(t);case 3:200===(a=e.sent).code?(n(!1),I(!1),J(Fe(a.data.message)),W()):(J(Fe(a.data.error.message)),I(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(s.a.mark((function e(t,a){var r,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),r=g.filter((function(e){return e._id===a}))[0],c={},r.category_name!==t.data.category_name&&(c=Object.assign(c,{category_name:t.data.category_name})),r.status!==t.data.status&&(c=Object.assign(c,{status:t.data.status})),o={data:c},e.next=8,ct.Update_Category(o,a);case 8:200===(i=e.sent).code?(n(!1),J(Fe(i.data.message)),I(!1),W()):(J(Fe(i.data.error.message)),I(!1));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(e){u(!0),setTimeout((function(){u(!1)}),3e3),b(e)};return r.a.useEffect((function(){D(!0),W()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{loading:B,Header:ot,buttonLabel:"Add Category",onClick:function(){return _(!1),void n(!a)},data:T,selected:P,filterOption:C,onchangeOption:function(e,t){return function(e,t){t?(K(t),L(g.filter((function(e){return e.category_name===t})))):L(g)}(0,t)},Update:function(e){return function(e){_(e),n(!0)}(e)}}),a&&r.a.createElement(rt,{closeModal:function(){n(!a)},btnLoading:z,fields:O,showToast:J,update:function(e,t){return R(e,t)},submit:function(e){return H(e)}}),i&&r.a.createElement(Ue,{message:f}))},ut={Add_Servie:function(e){return de()({method:"post",url:"".concat(B).concat($,"?admin_id=").concat(G),data:e,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Update_Service:function(e,t){return de()({method:"patch",url:"".concat(B).concat(q,"/").concat(e,"?admin_id=").concat(G),data:t,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Get_Service:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(J,"?admin_id=").concat(G),headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},lt={Add_Vehicle:function(e){return de()({method:"post",url:"".concat(B).concat(X,"?admin_id=").concat(G),data:e,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Get_Vehicle:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(Q,"?admin_id=").concat(G),headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Get_Vehicle_by_name:function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(Y,"?admin_id=").concat(G,"&vehicle_name=").concat(t),headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Update_Vehicle:function(e,t){return de()({method:"patch",url:"".concat(B).concat(Z,"/").concat(e,"?admin_id=").concat(G),data:t,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},st=a(237),dt=a(259),pt=function(e){var t=e.label,a=e.id,n=e.type,c=e.autoFocus,o=e.onChange,i=e.value,u=e.onBlur;return r.a.createElement(_e.a,{autoFocus:c,margin:"dense",id:a,value:i,multiline:!0,rows:4,onBlur:u,onChange:o,label:t,type:n,fullWidth:!0})};function mt(e){var t=r.a.useState(e.fields&&e.fields.service_name||""),a=Object(p.a)(t,2),c=a[0],o=a[1],i=r.a.useState(e.fields.description||""),u=Object(p.a)(i,2),l=u[0],s=u[1],d=r.a.useState(e.fields.price||""),m=Object(p.a)(d,2),f=m[0],b=m[1],v=r.a.useState(""),h=Object(p.a)(v,2),g=h[0],E=h[1],j=r.a.useState(""),O=Object(p.a)(j,2),_=O[0],S=O[1],w=r.a.useState(!1),C=Object(p.a)(w,2),x=C[0],k=C[1];return r.a.createElement("div",null,r.a.createElement(Ze.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},e.fields?"Edit Service":"Add Service"),r.a.createElement(tt.a,null,r.a.createElement(Se,{autoFocus:!0,onChange:function(e){return function(e){o(e.target.value)}(e)},id:"name",value:c,label:"Service Name",type:"text"}),!e.fields&&r.a.createElement(n.Fragment,null,r.a.createElement(st.a,{style:{width:"100%",marginTop:"5px"}},r.a.createElement(dt.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"Service"),r.a.createElement(at.a,{autoFocus:!0,onChange:function(e){"bike service"==e.target.value?k(!0):k(!1),E(e.target.value)},value:g,placeholder:"Category",style:{width:"100%",marginTop:"12px"},inputProps:{name:"max-width",id:"max-width"}},e.category&&e.category.map((function(e){return r.a.createElement(y.a,{key:e._id,value:e.category_name},e.category_name)})))),x&&r.a.createElement(st.a,{style:{width:"100%",marginTop:"5px"}},r.a.createElement(dt.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"Vehicle CC"),r.a.createElement(at.a,{autoFocus:!0,onChange:function(e){S(e.target.value)},value:_,placeholder:"Vehicle CC",style:{width:"100%",marginTop:"12px"},inputProps:{name:"max-width",id:"max-width"}},e.vehicle&&e.vehicle.map((function(e){return r.a.createElement(y.a,{key:e._id,value:e.vehicle_cc},e.vehicle_cc)}))))),r.a.createElement(pt,{onChange:function(e){return function(e){s(e.target.value)}(e)},id:"description",value:l,label:"Description",type:"text"}),r.a.createElement(Se,{onChange:function(e){return function(e){b(e.target.value)}(e)},id:"price",value:f,label:"Price",type:"text"})),r.a.createElement(et.a,null,r.a.createElement(ke,{onClick:e.closeModal,label:"Cancel"}),r.a.createElement(ke,{onClick:function(){return function(){if(""===c||void 0===c||""===l||void 0===l||""===f||void 0===f)e.showToast("Please fill all the fields");else if(e.fields){var t={data:{service_name:c,description:l,price:f}};e.update(t,e.fields._id)}else{var a={data:{service_name:c,category_name:g,description:l,price:f}};"bike service"==g&&Object.assign(a.data,{vehicle_cc:_}),e.submit(a)}}()},loading:e.btnLoading,label:e.fields?"Edit Service":"Add Service"}))))}var ft=["Service Name","Category","Vehicle CC","Description","Price","Actions"],bt=["Service Name","Category","Description","Price","Actions"],vt=function(){var e=r.a.useState([]),t=Object(p.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(p.a)(c,2),i=o[0],u=o[1],l=r.a.useState(!1),m=Object(p.a)(l,2),f=m[0],b=m[1],v=r.a.useState(!1),h=Object(p.a)(v,2),g=h[0],E=h[1],y=r.a.useState(!1),j=Object(p.a)(y,2),O=j[0],_=j[1],S=r.a.useState([]),w=Object(p.a)(S,2),C=w[0],x=w[1],k=r.a.useState([]),A=Object(p.a)(k,2),T=A[0],L=A[1],V=r.a.useState([]),N=Object(p.a)(V,2),P=N[0],K=N[1],U=r.a.useState([]),F=Object(p.a)(U,2),B=F[0],D=F[1],M=r.a.useState([]),G=Object(p.a)(M,2),z=G[0],I=G[1],W=r.a.useState([]),H=Object(p.a)(W,2),R=H[0],J=H[1],$=r.a.useState(""),q=Object(p.a)($,2),Q=q[0],X=q[1],Y=r.a.useState(!1),Z=Object(p.a)(Y,2),ee=Z[0],te=Z[1],ae=r.a.useState(!1),ne=Object(p.a)(ae,2),re=ne[0],ce=ne[1],oe=function(){_(!1),u(!i)},ie=function(){var e=Object(d.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.Get_Service();case 2:return t=e.sent,e.next=5,ct.Get_Category();case 5:return a=e.sent,e.next=8,lt.Get_Vehicle();case 8:if(r=e.sent,200!==t.code){e.next=20;break}n(t.data.message),x(a.data.message),L(r.data.messsage),J(t.data.message.filter((function(e){return"bike service"===e.service_type}))),I(t.data.message.filter((function(e){return"battery service"===e.service_type}))),K(Object(De.a)(new Set(t.data.message.filter((function(e){return"bike service"===e.service_type})).map((function(e){return e.service_name}))))),D(Object(De.a)(new Set(t.data.message.filter((function(e){return"battery service"===e.service_type})).map((function(e){return e.service_name}))))),te(!1),e.next=22;break;case 20:return te(!1),e.abrupt("return",[]);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,ut.Add_Servie(t);case 3:200===(a=e.sent).code?(u(!1),ce(!1),pe(Fe(a.data.message)),ie()):(ce(!1),pe(Fe(a.data.error.message)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){_(e),u(!0)},se=function(){var e=Object(d.a)(s.a.mark((function e(t,n){var r,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),r=a.filter((function(e){return e._id===n}))[0],c={},r.service_name!==t.data.service_name&&(c=Object.assign(c,{service_name:t.data.service_name})),r.description!==t.data.description&&(c=Object.assign(c,{description:t.data.description})),r.price!==t.data.price&&(c=Object.assign(c,{price:t.data.price})),r.tax!==t.data.tax&&(c=Object.assign(c,{tax:t.data.tax})),o={data:c},e.next=10,ut.Update_Service(r._id,o);case 10:200===(i=e.sent).code?(u(!1),ce(!1),pe(Fe(i.data.message)),ie()):(ce(!1),pe(Fe(i.data.error.message)));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt.Get_Vehicle_by_name(t);case 2:if(200!==(a=e.sent).code){e.next=5;break}return e.abrupt("return",a.data.messsage);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){b(!0),setTimeout((function(){b(!1)}),3e3),E(e)};return r.a.useEffect((function(){te(!0),ie()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{loading:ee,data:R,Header:ft,selected:Q,filterOption:P,onchangeOption:function(e,t){return function(e,t){t?(X(t),J(a.filter((function(e){return e.service_name===t&&"bike service"===e.service_type})))):J(a.filter((function(e){return"bike service"==e.service_type})))}(0,t)},Update:function(e){return le(e)},buttonLabel:"Add Service",onClick:function(e){return oe()}}),r.a.createElement(Ye,{loading:ee,data:z,Header:bt,selected:Q,page:"service",filterOption:B,onchangeOption:function(e,t){return function(e,t){t?(X(t),I(a.filter((function(e){return e.service_name===t&&"battery service"===e.service_type})))):I(a.filter((function(e){return"battery service"==e.service_type})))}(0,t)},Update:function(e){return le(e)},buttonLabel:"Add Service",onClick:function(e){return oe()}}),i&&r.a.createElement(mt,{closeModal:function(){u(!i)},fields:O,showToast:pe,vehicleCC:function(e){return de(e)},category:C,vehicle:T,btnLoading:re,update:function(e,t){return se(e,t)},submit:function(e){return ue(e)}}),f&&r.a.createElement(Ue,{message:g}))};function ht(e){var t=r.a.useState(e.fields.vendor_name||""),a=Object(p.a)(t,2),n=a[0],c=a[1],o=r.a.useState(e.fields.mobile||""),i=Object(p.a)(o,2),u=i[0],l=i[1],s=r.a.useState(e.fields.email||""),d=Object(p.a)(s,2),m=d[0],f=d[1],b=r.a.useState(e.fields.location||""),v=Object(p.a)(b,2),h=v[0],g=v[1],E=r.a.useState(!1),y=Object(p.a)(E,2),j=y[0],O=y[1];return r.a.createElement("div",null,r.a.createElement(Ze.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},"Add Vendor"),r.a.createElement(tt.a,null,r.a.createElement(Se,{autoFocus:!0,onChange:function(e){return function(e){c(e.target.value)}(e)},id:"name",value:n,label:"Vendor Name",type:"text"}),r.a.createElement(Se,{onChange:function(e){return function(e){e.target.value.length<=10&&l(e.target.value)}(e)},id:"mobile",value:u,inputmode:"numeric",type:"number",pattern:"[0-9]*",label:"Mobile Number"}),r.a.createElement(Se,{onChange:function(e){return function(e){f(e.target.value)}(e)},onBlur:function(e){new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(e.target.value)?O(!1):O(!0)},id:"email",value:m,label:"Email Address",type:"email"}),j&&r.a.createElement(N.a,{style:{color:"red",fontSize:"12px"}},"Enter a valid Email"),r.a.createElement(Se,{onChange:function(e){return function(e){g(e.target.value)}(e)},id:"location",value:h,label:"Location",type:"text"})),r.a.createElement(et.a,null,r.a.createElement(ke,{onClick:e.closeModal,label:"Cancel"}),r.a.createElement(ke,{onClick:function(){return function(){if(""===n||void 0===n||""===m||void 0===m||""===u||void 0===u||""===h||void 0===h)e.showToast("Please fill all the fields");else{var t={data:{vendor_name:n,email:m,mobile:u,location:h}};e.fields?e.update(t,e.fields._id):e.submit(t)}}()},loading:e.btnLoading,label:e.fields?"Edit Vendor":"Add Vendor"}))))}var gt={Add_Vendor:function(e){return de()({method:"post",url:"".concat(B).concat(te,"?admin_id=").concat(G),data:e,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Update_Vendor:function(e,t){return de()({method:"patch",url:"".concat(B).concat(ae,"/").concat(e,"?admin_id=").concat(G),data:t,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Get_Vendor:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(ee,"?admin_id=").concat(G),headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Et=["Vendor Name","Mobile","Email","Location","Action"],yt=function(e){var t=r.a.useState(!1),a=Object(p.a)(t,2),n=a[0],c=a[1],o=r.a.useState(!1),i=Object(p.a)(o,2),u=i[0],l=i[1],m=r.a.useState(!1),f=Object(p.a)(m,2),b=f[0],v=f[1],h=r.a.useState(!1),g=Object(p.a)(h,2),E=g[0],y=g[1],j=r.a.useState([]),O=Object(p.a)(j,2),_=O[0],S=O[1],w=r.a.useState([]),C=Object(p.a)(w,2),x=C[0],k=C[1],A=r.a.useState([]),T=Object(p.a)(A,2),L=T[0],V=T[1],N=r.a.useState(""),P=Object(p.a)(N,2),K=P[0],U=P[1],F=r.a.useState(!1),B=Object(p.a)(F,2),D=B[0],M=B[1],G=r.a.useState(!1),z=Object(p.a)(G,2),I=z[0],W=z[1],H=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.Get_Vendor();case 2:if(200!==(t=e.sent).code){e.next=10;break}S(t.data.message),V(t.data.message),k(Object(De.a)(new Set(t.data.message.map((function(e){return e.vendor_name}))))),M(!1),e.next=12;break;case 10:return M(!1),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,gt.Add_Vendor(t);case 3:200===(a=e.sent).code?(c(!1),W(!1),$(Fe(a.data.message)),H()):(W(!1),$(a.data.error.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(s.a.mark((function e(t,a){var n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),n=_.filter((function(e){return e._id===a}))[0],r={},n.vendor_name!==t.data.vendor_name&&(r=Object.assign(r,{vendor_name:t.data.vendor_name})),n.email!==t.data.email&&(r=Object.assign(r,{email:t.data.email})),n.mobile!==t.data.mobile&&(r=Object.assign(r,{mobile:t.data.mobile})),n.location!==t.data.location&&(r=Object.assign(r,{location:t.data.location})),o={data:r},e.next=10,gt.Update_Vendor(n._id,o);case 10:200===(i=e.sent).code?(c(!1),W(!1),$(Fe(i.data.message)),H()):($(Fe(i.data.error.message)),W(!1));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(e){l(!0),setTimeout((function(){l(!1)}),3e3),v(e)};return r.a.useEffect((function(){M(!0),H()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{loading:D,Header:Et,data:L,selected:K,filterOption:x,onchangeOption:function(e,t){return function(e,t){t?(U(t),V(_.filter((function(e){return e.vendor_name===t})))):V(_)}(0,t)},buttonLabel:"Add Vendor",Update:function(e){return function(e){y(e),c(!0)}(e)},onClick:function(e){return y(!1),void c(!n)}}),n&&r.a.createElement(ht,{closeModal:function(){c(!n)},fields:E,showToast:$,btnLoading:I,update:function(e,t){return J(e,t)},submit:function(e){return R(e)}}),u&&r.a.createElement(Ue,{message:b}))};function jt(e){var t=r.a.useState(e.fields.vehicle_cc||""),a=Object(p.a)(t,2),n=a[0],c=a[1],o=r.a.useState("Active"),i=Object(p.a)(o,2),u=i[0],l=i[1];return r.a.createElement("div",null,r.a.createElement(Ze.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},e.fields?"Edit Vehicle":"Add Vehicle"),r.a.createElement(tt.a,null,r.a.createElement(Se,{onChange:function(e){return function(e){c(e.target.value)}(e)},id:"cc",value:n,label:"Vehicle CC",type:"text"}),e.fields&&r.a.createElement(at.a,{autoFocus:!0,onChange:function(e){l(e.target.value)},value:u,style:{width:"100%",marginTop:"12px"},inputProps:{name:"max-width",id:"max-width"}},r.a.createElement(y.a,{value:"Active"},"Active"),r.a.createElement(y.a,{value:"InActive"},"InActive"))),r.a.createElement(et.a,null,r.a.createElement(ke,{onClick:e.closeModal,label:"Cancel"}),r.a.createElement(ke,{loading:e.btnLoading,onClick:function(){return function(){if(""===n||void 0===n)e.showToast("Please fill Vehicle CC");else if(e.fields){var t={data:{vehicle_cc:n,status:"Active"===u}};e.update(t,e.fields._id)}else{var a={data:{vehicle_cc:n}};e.submit(a)}}()},label:e.fields?"Edit Vehicle":"Add Vehicle"}))))}var Ot=["Vehicle CC","Status","Actions"],_t=function(e){var t=r.a.useState(!1),a=Object(p.a)(t,2),n=a[0],c=a[1],o=r.a.useState(!1),i=Object(p.a)(o,2),u=i[0],l=i[1],m=r.a.useState(!1),f=Object(p.a)(m,2),b=f[0],v=f[1],h=r.a.useState(!1),g=Object(p.a)(h,2),E=g[0],y=g[1],j=r.a.useState([]),O=Object(p.a)(j,2),_=O[0],S=O[1],w=r.a.useState([]),C=Object(p.a)(w,2),x=C[0],k=C[1],A=r.a.useState([]),T=Object(p.a)(A,2),L=T[0],V=T[1],N=r.a.useState(""),P=Object(p.a)(N,2),K=P[0],U=P[1],F=r.a.useState(!1),B=Object(p.a)(F,2),D=B[0],M=B[1],G=r.a.useState(!1),z=Object(p.a)(G,2),I=z[0],W=z[1],H=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt.Get_Vehicle();case 2:if(200!==(t=e.sent).code){e.next=10;break}S(t.data.messsage),V(t.data.messsage),k(Object(De.a)(new Set(t.data.messsage.map((function(e){return e.vehicle_cc}))))),M(!1),e.next=12;break;case 10:return M(!1),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,lt.Add_Vehicle(t);case 3:200===(a=e.sent).code?(c(!1),W(!1),$(Fe(a.data.message)),H()):(W(!1),$(Fe(a.data.error.message)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(s.a.mark((function e(t,a){var n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),n=_.filter((function(e){return e._id===a}))[0],r={},n.vehicle_name!==t.data.vehicle_name&&(r=Object.assign(r,{vehicle_name:t.data.vehicle_name})),n.vehicle_cc!==t.data.vehicle_cc&&(r=Object.assign(r,{vehicle_cc:t.data.vehicle_cc})),n.status!==t.data.status&&(r=Object.assign(r,{status:t.data.status})),o={data:r},e.next=9,lt.Update_Vehicle(n._id,o);case 9:200===(i=e.sent).code?(c(!1),$(Fe(i.data.message)),W(!1),H()):($(Fe(i.data.error.message)),W(!1));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(e){l(!0),setTimeout((function(){l(!1)}),3e3),v(e)};return r.a.useEffect((function(){M(!0),H()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{loading:D,Header:Ot,data:L,selected:K,filterOption:x,onchangeOption:function(e,t){return function(e,t){t?(U(t),V(_.filter((function(e){return e.vehicle_cc===t})))):V(_)}(0,t)},buttonLabel:"Add Vehicle",Update:function(e){return function(e){y(e),c(!0)}(e)},onClick:function(e){return y(!1),void c(!n)}}),n&&r.a.createElement(jt,{closeModal:function(){c(!n)},btnLoading:I,showToast:$,fields:E,update:function(e,t){return J(e,t)},submit:function(e){return R(e)}}),u&&r.a.createElement(Ue,{message:b}))},St={Get_Orders:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(ne,"?admin_id=").concat(G),headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),verifyMobile:function(){var e=Object(d.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"post",data:a,url:"".concat(B).concat(re,"/").concat(t,"?admin_id=").concat(G),headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()};function wt(e){var t=r.a.useState(""),a=Object(p.a)(t,2),n=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement(Ze.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},"Enter vendor's mobile number"),r.a.createElement(tt.a,null,r.a.createElement(Se,{type:"number",pattern:"[0-9]*",inputmode:"numeric",autoFocus:!0,onChange:function(e){return function(e){e.target.value.length<=10&&c(e.target.value)}(e)},id:"mobile",value:n,label:"Mobile Number"})),r.a.createElement(et.a,{style:{padding:"18px"}},r.a.createElement(ke,{onClick:e.closeModal,label:"Cancel"}),r.a.createElement(ke,{loading:e.btnLoading,onClick:function(){return function(){if(""!==n&&void 0!==n){var t={data:{mobile_number:n}};e.submit(t)}else e.showToast("Please fill mobile number")}()},label:"Verify"}))))}var Ct=["Mobile","Location","Service","Description","Amount","Action"],xt=function(){var e=r.a.useState(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],o=r.a.useState([]),i=Object(p.a)(o,2),u=i[0],l=i[1],m=r.a.useState(!1),f=Object(p.a)(m,2),b=f[0],v=f[1],h=r.a.useState(!1),g=Object(p.a)(h,2),E=g[0],y=g[1],j=r.a.useState(!1),O=Object(p.a)(j,2),_=O[0],S=O[1],w=r.a.useState(""),C=Object(p.a)(w,2),x=C[0],k=C[1],A=r.a.useState(!1),T=Object(p.a)(A,2),L=T[0],V=T[1],N=function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.Get_Orders();case 2:if(200!==(t=e.sent).code){e.next=10;break}a=[],t.data.message.length>0&&t.data.message.map((function(e){e.orderDetails.length>1?e.orderDetails.map((function(t){t.orderId=e._id})):e.orderDetails[0].orderId=e._id,Array.prototype.push.apply(a,e.orderDetails)})),l(a),S(!1),e.next=12;break;case 10:return S(!1),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,St.verifyMobile(x,t);case 3:200===(a=e.sent).code?(c(!1),V(!1),K(Fe(a.data.message)),N()):(K(Fe(a.data.error.message)),V(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){v(!0),setTimeout((function(){v(!1)}),3e3),y(e)};return r.a.useEffect((function(){N()}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(Ye,{loading:_,Update:function(e){k(e),c(!0)},Header:Ct,data:u,page:"orders"}),a&&r.a.createElement(wt,{closeModal:function(){c(!a)},btnLoading:L,submit:function(e){return P(e)},showToast:K}),b&&r.a.createElement(Ue,{message:E}))};function kt(e){var t=r.a.useState(e.fields.location||""),a=Object(p.a)(t,2),n=a[0],c=a[1],o=r.a.useState("Active"),i=Object(p.a)(o,2),u=i[0],l=i[1];return r.a.createElement("div",null,r.a.createElement(Ze.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},e.fields?"Edit Location":"Add Location"),r.a.createElement(tt.a,null,r.a.createElement(Se,{onChange:function(e){return function(e){c(e.target.value)}(e)},id:"location",value:n,label:"Location",type:"text"}),e.fields&&r.a.createElement(at.a,{autoFocus:!0,onChange:function(e){l(e.target.value)},value:u,style:{width:"100%",marginTop:"12px"},inputProps:{name:"max-width",id:"max-width"}},r.a.createElement(y.a,{value:"Active"},"Active"),r.a.createElement(y.a,{value:"InActive"},"InActive"))),r.a.createElement(et.a,null,r.a.createElement(ke,{onClick:e.closeModal,label:"Cancel"}),r.a.createElement(ke,{onClick:function(){return function(){if(""!==n&&void 0!==n)if(e.fields){var t={data:{location:n,status:"Active"===u}};e.update(t,e.fields._id)}else{var a={data:{location:n,status:"Active"===u}};e.submit(a)}else e.showToast("Please enter location.")}()},loading:e.btnLoading,label:e.fields?"Edit Location":"Add Location"}))))}var At={Add_Location:function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"post",url:"".concat(B).concat(oe),data:t,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Update_Location:function(){var e=Object(d.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"patch",url:"".concat(B).concat(ie,"/").concat(a,"?admin_id=").concat(G),data:t,headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Get_Location:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de()({method:"get",url:"".concat(B).concat(ce),headers:{Accept:"application/json","Content-Type":"application/json",api:D,secret:M}}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Tt=["Location","Status","Action"],Lt=[{path:"/",exact:!0,layout:je,component:function(){return r.a.createElement(u.a,{to:"/login"})}},{path:"/category",layout:je,component:it},{path:"/service",layout:je,component:vt},{path:"/vendor",layout:je,component:yt},{path:"/vehicle",layout:je,component:_t},{path:"/orders",layout:je,component:xt},{path:"/location",layout:je,component:function(e){var t=r.a.useState(!1),a=Object(p.a)(t,2),n=a[0],c=a[1],o=r.a.useState(!1),i=Object(p.a)(o,2),u=i[0],l=i[1],m=r.a.useState(!1),f=Object(p.a)(m,2),b=f[0],v=f[1],h=r.a.useState(!1),g=Object(p.a)(h,2),E=g[0],y=g[1],j=r.a.useState([]),O=Object(p.a)(j,2),_=O[0],S=O[1],w=r.a.useState([]),C=Object(p.a)(w,2),x=C[0],k=C[1],A=r.a.useState([]),T=Object(p.a)(A,2),L=T[0],V=T[1],N=r.a.useState(""),P=Object(p.a)(N,2),K=P[0],U=P[1],F=r.a.useState(!1),B=Object(p.a)(F,2),D=B[0],M=B[1],G=r.a.useState(!1),z=Object(p.a)(G,2),I=z[0],W=z[1],H=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At.Get_Location();case 2:if(200!==(t=e.sent).code){e.next=10;break}S(t.data.message),V(t.data.message),k(Object(De.a)(new Set(t.data.message.map((function(e){return e.location}))))),M(!1),e.next=12;break;case 10:return M(!1),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,At.Add_Location(t);case 3:200===(a=e.sent).code?(c(!1),W(!1),$(Fe(a.data.message)),H()):(W(!1),$(a.data.error.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(s.a.mark((function e(t,a){var n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W(!0),n=_.filter((function(e){return e._id===a}))[0],r={},n.location!==t.data.location&&(r=Object.assign(r,{location:t.data.location})),n.status!==t.data.status&&(r=Object.assign(r,{status:t.data.status})),o={data:r},0===Object.keys(o).length){e.next=11;break}return e.next=9,At.Update_Location(o,n._id);case 9:200===(i=e.sent).code?(c(!1),W(!1),$(Fe(i.data.message)),H()):($(Fe(i.data.error.message)),W(!1));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(e){l(!0),setTimeout((function(){l(!1)}),3e3),v(e)};return r.a.useEffect((function(){M(!0),H()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{loading:D,Header:Tt,data:L,selected:K,filterOption:x,onchangeOption:function(e,t){return function(e,t){t?(U(t),V(_.filter((function(e){return e.location===t})))):V(_)}(0,t)},buttonLabel:"Add Location",Update:function(e){return function(e){y(e),c(!0)}(e)},onClick:function(e){return y(!1),void c(!n)}}),n&&r.a.createElement(kt,{closeModal:function(){c(!n)},fields:E,showToast:$,btnLoading:I,update:function(e,t){return J(e,t)},submit:function(e){return R(e)}}),u&&r.a.createElement(Ue,{message:b}))}},{path:"/login",layout:je,component:Be}],Vt=a(109),Nt=a(110),Pt=a(113),Kt=a(111),Ut=a(77);Ut.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GAID||"UA-115105611-2");var Ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){Ut.a.set(Object(Ne.a)({page:e},t)),Ut.a.pageview(e)},c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASENAME||"",o=function(t){Object(Pt.a)(o,t);var n=Object(Kt.a)(o);function o(){return Object(Vt.a)(this,o),n.apply(this,arguments)}return Object(Nt.a)(o,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname+this.props.location.search;a("".concat(c).concat(e))}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname+e.location.search,n=this.props.location.pathname+this.props.location.search;t!==n&&a("".concat(c).concat(n))}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),o}(n.Component);return o},Bt=(a(167),function(){return r.a.createElement(i.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASENAME||""},r.a.createElement("div",null,Lt.map((function(e,t){return r.a.createElement(u.b,{key:t,path:e.path,exact:e.exact,component:Ft((function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,Object.assign({},t,{isLoading:!1})))}))})}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[128,1,2]]]);
//# sourceMappingURL=main.4d54ac6d.chunk.js.map