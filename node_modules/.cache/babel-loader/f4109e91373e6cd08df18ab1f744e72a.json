{"ast":null,"code":"import _regeneratorRuntime from\"/home/selvi/Desktop/My App Pro/vehicle-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/selvi/Desktop/My App Pro/vehicle-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/selvi/Desktop/My App Pro/vehicle-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import store from\"store\";import{useHistory}from\"react-router-dom\";import Login from\"../../components/forms/Login\";import{User_api}from\"../../api/user_api\";import BPSuccessNotification from\"../../components/common/BPNotification\";import{requestDataFormat}from\"../../components/common/ErrorFormat\";var SignIn=function SignIn(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),successModal=_React$useState2[0],setSuccessModal=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),message=_React$useState4[0],setMessage=_React$useState4[1];var history=useHistory();var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),btnLoading=_React$useState6[0],setBtnLoading=_React$useState6[1];var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(fields,id){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setBtnLoading(true);_context.next=3;return User_api.SignIn(fields,id);case 3:res=_context.sent;if(res.code!==200){setMessage(requestDataFormat.errorHandler(res.data.error.message));setBtnLoading(false);setSuccessModal(true);setTimeout(function(){setSuccessModal(false);},3000);}else{store.set(\"apiKey\",{apiKey:res.data.error.apiKey});store.set(\"secretKey\",{secretKey:res.data.error.secretKey});store.set(\"adminKey\",{adminKey:res.data.error.adminKey});setBtnLoading(false);history.push(\"/vendor\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Login,{btnLoading:btnLoading,submit:submit}),successModal&&/*#__PURE__*/React.createElement(BPSuccessNotification,{message:message}));};export default SignIn;","map":{"version":3,"sources":["/home/selvi/Desktop/My App Pro/vehicle-app/src/views/Auth/SignIn.js"],"names":["React","store","useHistory","Login","User_api","BPSuccessNotification","requestDataFormat","SignIn","useState","successModal","setSuccessModal","message","setMessage","history","btnLoading","setBtnLoading","submit","fields","id","res","code","errorHandler","data","error","setTimeout","set","apiKey","secretKey","adminKey","push"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,wCAAlC,CACA,OAASC,iBAAT,KAAkC,qCAAlC,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,qBACqBP,KAAK,CAACQ,QAAN,CAAe,KAAf,CADrB,oDACZC,YADY,qBACEC,eADF,0CAEWV,KAAK,CAACQ,QAAN,CAAe,KAAf,CAFX,qDAEZG,OAFY,qBAEHC,UAFG,qBAGnB,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CAHmB,qBAIiBF,KAAK,CAACQ,QAAN,CAAe,KAAf,CAJjB,qDAIZM,UAJY,qBAIAC,aAJA,qBAMnB,GAAMC,CAAAA,MAAM,0FAAG,iBAAOC,MAAP,CAAeC,EAAf,0HACbH,aAAa,CAAC,IAAD,CAAb,CADa,sBAEKX,CAAAA,QAAQ,CAACG,MAAT,CAAgBU,MAAhB,CAAwBC,EAAxB,CAFL,QAEPC,GAFO,eAGb,GAAIA,GAAG,CAACC,IAAJ,GAAa,GAAjB,CAAsB,CACpBR,UAAU,CAACN,iBAAiB,CAACe,YAAlB,CAA+BF,GAAG,CAACG,IAAJ,CAASC,KAAT,CAAeZ,OAA9C,CAAD,CAAV,CACAI,aAAa,CAAC,KAAD,CAAb,CACAL,eAAe,CAAC,IAAD,CAAf,CACAc,UAAU,CAAC,UAAM,CACfd,eAAe,CAAC,KAAD,CAAf,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAPD,IAOO,CACLT,KAAK,CAACwB,GAAN,CAAU,QAAV,CAAoB,CAAEC,MAAM,CAAEP,GAAG,CAACG,IAAJ,CAASC,KAAT,CAAeG,MAAzB,CAApB,EACAzB,KAAK,CAACwB,GAAN,CAAU,WAAV,CAAuB,CAAEE,SAAS,CAAER,GAAG,CAACG,IAAJ,CAASC,KAAT,CAAeI,SAA5B,CAAvB,EACA1B,KAAK,CAACwB,GAAN,CAAU,UAAV,CAAsB,CAAEG,QAAQ,CAAET,GAAG,CAACG,IAAJ,CAASC,KAAT,CAAeK,QAA3B,CAAtB,EACAb,aAAa,CAAC,KAAD,CAAb,CACAF,OAAO,CAACgB,IAAR,YACD,CAhBY,sDAAH,kBAANb,CAAAA,MAAM,gDAAZ,CAmBA,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,KAAD,EAAO,UAAU,CAAEF,UAAnB,CAA+B,MAAM,CAAEE,MAAvC,EADF,CAEGP,YAAY,eAAI,oBAAC,qBAAD,EAAuB,OAAO,CAAEE,OAAhC,EAFnB,CADF,CAMD,CA/BD,CAiCA,cAAeJ,CAAAA,MAAf","sourcesContent":["import React from \"react\";\nimport store from \"store\";\nimport { useHistory } from \"react-router-dom\";\nimport Login from \"../../components/forms/Login\";\nimport { User_api } from \"../../api/user_api\";\nimport BPSuccessNotification from \"../../components/common/BPNotification\";\nimport { requestDataFormat } from \"../../components/common/ErrorFormat\";\n\nconst SignIn = () => {\n  const [successModal, setSuccessModal] = React.useState(false);\n  const [message, setMessage] = React.useState(false);\n  const history = useHistory();\n  const [btnLoading, setBtnLoading] = React.useState(false);\n\n  const submit = async (fields, id) => {\n    setBtnLoading(true);\n    const res = await User_api.SignIn(fields, id);\n    if (res.code !== 200) {\n      setMessage(requestDataFormat.errorHandler(res.data.error.message));\n      setBtnLoading(false);\n      setSuccessModal(true);\n      setTimeout(() => {\n        setSuccessModal(false);\n      }, 3000);\n    } else {\n      store.set(\"apiKey\", { apiKey: res.data.error.apiKey });\n      store.set(\"secretKey\", { secretKey: res.data.error.secretKey });\n      store.set(\"adminKey\", { adminKey: res.data.error.adminKey });\n      setBtnLoading(false);\n      history.push(`/vendor`);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Login btnLoading={btnLoading} submit={submit} />\n      {successModal && <BPSuccessNotification message={message} />}\n    </React.Fragment>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}