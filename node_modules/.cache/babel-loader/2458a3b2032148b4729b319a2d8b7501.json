{"ast":null,"code":"var _jsxFileName = \"/home/selvi/Desktop/My App Pro/vehicle-app/src/layouts/Mainbar.js\";\nimport React from \"react\";\nimport store from \"store\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { Divider, Menu, MenuItem } from \"@material-ui/core\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ArrowRight from \"@material-ui/icons/ArrowRight\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { User_api } from \"../api/user_api\";\nimport Badge from \"@material-ui/core/Badge\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport { Notification_Api } from \"../api/notification_api\";\nconst drawerWidth = 240;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  title: {\n    flexGrow: 1\n  },\n  appBar: {\n    background: \"#3f94b5f2\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\"\n    }\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\"\n    }\n  }\n}));\n\nfunction Mainbar({\n  children\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [data, setData] = React.useState([]);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const [anchorElNote, setAnchorElNote] = React.useState(null);\n  const openNote = Boolean(anchorElNote);\n  const history = useHistory();\n  var currentLocation = window.location.pathname;\n\n  const getData = async () => {\n    const res = await Notification_Api.Get_Notification();\n\n    if (res.code === 200) {\n      setData(res.data.message);\n    } else {\n      return [];\n    }\n  };\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleMenuNote = event => {\n    setAnchorElNote(event.currentTarget);\n  };\n\n  const handleCloseNote = () => {\n    setAnchorEl(null);\n  };\n\n  const clickNote = async res => {\n    const res1 = await Notification_Api.Update_Notification(res._id);\n\n    if (res1.code === 200) {\n      getData();\n    } else {}\n  };\n\n  const logout = async () => {\n    history.push(`/`);\n    store.remove(\"secretKey\");\n    store.remove(\"apiKey\");\n    store.remove(\"adminKey\");\n    await User_api.SignOut();\n  };\n\n  const handleClick = text => {\n    history.push(`/${text}`);\n  };\n\n  React.useEffect(() => {\n    if (currentLocation !== \"/\" || currentLocation !== \"/login\") {\n      if (!store.get(\"apiKey\")) {\n        history.push(`/login`);\n      }\n    }\n  }, []);\n  React.useEffect(() => {\n    getData();\n  }, []);\n  const drawer = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, [\"Category\", \"Vehicle\", \"Service\", \"Vendor\", \"Orders\", \"Location\"].map((text, index) => /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: text,\n    onClick: () => handleClick(text),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ArrowRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  })))));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }), currentLocation !== \"/login\" && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    className: classes.appBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    edge: \"start\",\n    onClick: handleDrawerToggle,\n    className: classes.menuButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    noWrap: true,\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, \"Vehicle App\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.sectionDesktop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"show 17 new notifications\",\n    color: \"inherit\",\n    onClick: handleMenuNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    badgeContent: data.length,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(NotificationsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorElNote,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: openNote,\n    onClose: handleCloseNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, data && data.length > 0 && data.map(res => {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: res._id,\n      onClick: res => clickNote(res),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }\n    }, res.message);\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleMenu,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: open,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: () => logout(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 19\n    }\n  }, \"Logout\"))))), /*#__PURE__*/React.createElement(\"nav\", {\n    className: classes.drawer,\n    \"aria-label\": \"mailbox folders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    smUp: true,\n    implementation: \"css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"temporary\",\n    anchor: theme.direction === \"rtl\" ? \"right\" : \"left\",\n    open: mobileOpen,\n    onClose: handleDrawerToggle,\n    classes: {\n      paper: classes.drawerPaper\n    },\n    ModalProps: {\n      keepMounted: true // Better open performance on mobile.\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }\n  }, drawer)), /*#__PURE__*/React.createElement(Hidden, {\n    xsDown: true,\n    implementation: \"css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    classes: {\n      paper: classes.drawerPaper\n    },\n    variant: \"permanent\",\n    open: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 15\n    }\n  }, drawer)))), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }\n  }, children)));\n}\n\nMainbar.propTypes = {\n  window: PropTypes.func\n};\nexport default Mainbar;","map":{"version":3,"sources":["/home/selvi/Desktop/My App Pro/vehicle-app/src/layouts/Mainbar.js"],"names":["React","store","PropTypes","useHistory","AppBar","CssBaseline","Divider","Menu","MenuItem","Drawer","Hidden","IconButton","List","ListItem","ListItemIcon","ListItemText","ArrowRight","MenuIcon","Toolbar","Typography","AccountCircle","makeStyles","useTheme","User_api","Badge","NotificationsIcon","Notification_Api","drawerWidth","useStyles","theme","root","display","drawer","breakpoints","up","width","flexShrink","title","flexGrow","appBar","background","marginLeft","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","content","padding","sectionDesktop","sectionMobile","Mainbar","children","classes","mobileOpen","setMobileOpen","useState","data","setData","anchorEl","setAnchorEl","open","Boolean","anchorElNote","setAnchorElNote","openNote","history","currentLocation","window","location","pathname","getData","res","Get_Notification","code","message","handleDrawerToggle","handleMenu","event","currentTarget","handleClose","handleMenuNote","handleCloseNote","clickNote","res1","Update_Notification","_id","logout","push","remove","SignOut","handleClick","text","useEffect","get","map","index","length","vertical","horizontal","direction","paper","keepMounted","propTypes","func"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport store from \"store\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { Divider, Menu, MenuItem } from \"@material-ui/core\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ArrowRight from \"@material-ui/icons/ArrowRight\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { User_api } from \"../api/user_api\";\nimport Badge from \"@material-ui/core/Badge\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport { Notification_Api } from \"../api/notification_api\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  title: {\n    flexGrow: 1\n  },\n  appBar: {\n    background: \"#3f94b5f2\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\"\n    }\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\"\n    }\n  }\n}));\n\nfunction Mainbar({ children }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [data, setData] = React.useState([]);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const [anchorElNote, setAnchorElNote] = React.useState(null);\n  const openNote = Boolean(anchorElNote);\n  const history = useHistory();\n  var currentLocation = window.location.pathname;\n\n  const getData = async () => {\n    const res = await Notification_Api.Get_Notification();\n    if (res.code === 200) {\n      setData(res.data.message);\n    } else {\n      return [];\n    }\n  };\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleMenuNote = event => {\n    setAnchorElNote(event.currentTarget);\n  };\n\n  const handleCloseNote = () => {\n    setAnchorEl(null);\n  };\n\n  const clickNote = async res => {\n    const res1 = await Notification_Api.Update_Notification(res._id);\n    if (res1.code === 200) {\n      getData();\n    } else {\n    }\n  };\n\n  const logout = async () => {\n    history.push(`/`);\n    store.remove(\"secretKey\");\n    store.remove(\"apiKey\");\n    store.remove(\"adminKey\");\n    await User_api.SignOut();\n  };\n\n  const handleClick = text => {\n    history.push(`/${text}`);\n  };\n\n  React.useEffect(() => {\n    if (currentLocation !== \"/\" || currentLocation !== \"/login\") {\n      if (!store.get(\"apiKey\")) {\n        history.push(`/login`);\n      }\n    }\n  }, []);\n\n  React.useEffect(() => {\n    getData();\n  }, []);\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n      <Divider />\n      <List>\n        {[\"Category\", \"Vehicle\", \"Service\", \"Vendor\", \"Orders\", \"Location\"].map(\n          (text, index) => (\n            <ListItem button key={text} onClick={() => handleClick(text)}>\n              <ListItemIcon>\n                <ArrowRight />\n              </ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          )\n        )}\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {currentLocation !== \"/login\" && (\n        <React.Fragment>\n          <AppBar position=\"fixed\" className={classes.appBar}>\n            <Toolbar>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                edge=\"start\"\n                onClick={handleDrawerToggle}\n                className={classes.menuButton}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Typography variant=\"h6\" noWrap className={classes.title}>\n                Vehicle App\n              </Typography>\n              <div className={classes.sectionDesktop}>\n                <IconButton\n                  aria-label=\"show 17 new notifications\"\n                  color=\"inherit\"\n                  onClick={handleMenuNote}\n                >\n                  <Badge badgeContent={data.length} color=\"secondary\">\n                    <NotificationsIcon />\n                  </Badge>\n                </IconButton>\n                <Menu\n                  id=\"menu-appbar\"\n                  anchorEl={anchorElNote}\n                  anchorOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  keepMounted\n                  transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  open={openNote}\n                  onClose={handleCloseNote}\n                >\n                  {data &&\n                    data.length > 0 &&\n                    data.map(res => {\n                      return (\n                        <MenuItem key={res._id} onClick={res => clickNote(res)}>\n                          {res.message}\n                        </MenuItem>\n                      );\n                    })}\n                </Menu>\n                <IconButton\n                  aria-label=\"account of current user\"\n                  aria-controls=\"menu-appbar\"\n                  aria-haspopup=\"true\"\n                  onClick={handleMenu}\n                  color=\"inherit\"\n                >\n                  <AccountCircle />\n                </IconButton>\n                <Menu\n                  id=\"menu-appbar\"\n                  anchorEl={anchorEl}\n                  anchorOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  keepMounted\n                  transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  }}\n                  open={open}\n                  onClose={handleClose}\n                >\n                  <MenuItem onClick={() => logout()}>Logout</MenuItem>\n                </Menu>\n              </div>\n              {/* {\n                <div>\n                  <IconButton\n                    aria-label=\"show 11 new notifications\"\n                    color=\"inherit\"\n                  >\n                    <Badge badgeContent={11} color=\"secondary\">\n                      <NotificationsIcon />\n                    </Badge>\n                  </IconButton>\n                  <p>Notifications</p>\n                  <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"menu-appbar\"\n                    aria-haspopup=\"true\"\n                    onClick={handleMenu}\n                    color=\"inherit\"\n                  >\n                    <AccountCircle />\n                  </IconButton>\n                  <Menu\n                    id=\"menu-appbar\"\n                    anchorEl={anchorEl}\n                    anchorOrigin={{\n                      vertical: \"top\",\n                      horizontal: \"right\"\n                    }}\n                    keepMounted\n                    transformOrigin={{\n                      vertical: \"top\",\n                      horizontal: \"right\"\n                    }}\n                    open={open}\n                    onClose={handleClose}\n                  >\n                    <MenuItem onClick={() => logout()}>Logout</MenuItem>\n                  </Menu>\n                </div>\n              } */}\n            </Toolbar>\n          </AppBar>\n          <nav className={classes.drawer} aria-label=\"mailbox folders\">\n            {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n            <Hidden smUp implementation=\"css\">\n              <Drawer\n                variant=\"temporary\"\n                anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n                open={mobileOpen}\n                onClose={handleDrawerToggle}\n                classes={{\n                  paper: classes.drawerPaper\n                }}\n                ModalProps={{\n                  keepMounted: true // Better open performance on mobile.\n                }}\n              >\n                {drawer}\n              </Drawer>\n            </Hidden>\n            <Hidden xsDown implementation=\"css\">\n              <Drawer\n                classes={{\n                  paper: classes.drawerPaper\n                }}\n                variant=\"permanent\"\n                open\n              >\n                {drawer}\n              </Drawer>\n            </Hidden>\n          </nav>\n        </React.Fragment>\n      )}\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <div>{children}</div>\n      </main>\n    </div>\n  );\n}\n\nMainbar.propTypes = {\n  window: PropTypes.func\n};\n\nexport default Mainbar;\n"]},"metadata":{},"sourceType":"module"}